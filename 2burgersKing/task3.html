<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>West2Online 2017 JavaScript Task 03</title>
  </head>
<body>

  <ul id="burgers">
      <li><span class="name">汉堡包</span><span class="price">￥7</span></li>
      <li><span class="name">吉士汉堡包</span><span class="price">￥8</span></li>
      <li><span class="name">双层吉士汉堡</span><span class="price">￥15.5</span></li>
      <li><span class="name">麦香鸡</span><span class="price">￥9</span></li>
      <li><span class="name">麦香鱼</span><span class="price">￥15.5</span></li>
      <li><span class="name">麦辣鸡腿汉堡</span><span class="price">￥15</span></li>
      <li><span class="name">培根蔬萃双层牛堡</span><span class="price">￥18</span></li>
      <li><span class="name">巨无霸</span><span class="price">￥17</span></li>
      <li><span class="name">原味板烧鸡腿堡</span><span class="price">￥16.5</span></li>
      <li><span class="name">吉士蛋堡</span><span class="price">￥6</span></li>
  </ul>

  <ul id="burgers-sort">
    <!--
    <li>第一名：培根蔬萃双层牛堡：<b>18元</b></li>
     -->
  </ul>

  <button id="sort-btn" onclick="handleButton()">排序</button>

  <script>

      /**
       * render
       * 将排好序的汉堡价格，输出显示到id为burgers-sort的列表中
       * 格式见ul中的注释的部分
       */
      function render (data) {
        var cn = new Array("一","二","三","四","五","六","七","八","九","十");
        var seqList = "";
        for(var i=0;i<10;i++){
          seqList += "<li>"+"第"+cn[i]+"名："+data[i][0]+"：<b>"+data[i][1]+"元</b>"+"</li>";
        }
        document.getElementById("burgers-sort").innerHTML = seqList;
      }

      /**
       * getData
       * 读取id为burgers的列表，获取其中汉堡名字和价格
       * 返回一个数组，格式见函数中示例
       */
      function getData () {
        var nameList = document.getElementsByClassName("name");
        var priceList = document.getElementsByClassName("price");
        var data = new Array();
        for(var i=0;i<10;i++){
          data[i] = new Array();
            data[i][0] = nameList[i].innerHTML;
            data[i][1] = parseInt(priceList[i].innerHTML.replace('￥',""));
        }
        /**
         * data = [
         *   ['汉堡包', 7],
         *   ...
         * ]
         */
        return data;
      }
      /**
       * sortBurgers
       * 按汉堡价格，对data进行从大到小的排序
       * 返回一个排序后的数组
       */
       function sortBurgers (data) {
        var tmp;
        for(var i=9;i>0;i--){
          for(var j=0;j<i;j++){
            if(data[j][1]<data[j+1][1]){
              tmp = data[j];
              data[j] = data[j+1];
              data[j+1] = tmp;
            }
          }
        }
        return data;
      }

      function handleButton () {
        var aqiData = getData();
        var newData = sortBurgers(aqiData);
        render(newData);
      }

      // 给sort-btn绑定一个点击事件，点击时触发handleButton函数

  </script>
</body>
</html>
